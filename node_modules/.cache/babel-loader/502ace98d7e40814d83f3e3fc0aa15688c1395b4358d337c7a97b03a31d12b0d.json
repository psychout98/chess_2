{"ast":null,"code":"var _jsxFileName = \"/Users/noahheath/Documents/Workspace/chess_2/src/components/Profile.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { BoardPreview } from \"./BoardPreview\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Profile = () => {\n  _s();\n  const {\n    playerName\n  } = useParams();\n  const navigate = useNavigate();\n  const [boards, setBoards] = useState();\n  const [games, setGames] = useState(0);\n  const [wins, setWins] = useState(0);\n  useEffect(() => {\n    if (!playerName) {\n      navigate('/');\n    }\n    if (!boards) {\n      getBoards();\n    }\n  }, [boards, games, wins]);\n  function getBoards() {\n    axios.get(`/player/${playerName}/boards`).then(result => {\n      setBoards(result.data);\n      setGames(result.data.length);\n      setWins(result.data.map(board => board.winner === (board.white.name === playerName ? 1 : board.black.name === playerName ? 2 : -1)).filter(win => win === true).length);\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col w-screen bg-sky-300 items-center justify-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"a\", {\n      href: \"/chess_2/\",\n      className: \"flex absolute top-0 left-0 w-20 h-20 items-center\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"/chess_2/bk.png\",\n        alt: \"/chess_2/bp.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 95\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"text-xl my-5\",\n      children: [playerName, \"'s games\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: [\"Games: \", games]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"mb-3\",\n      children: [\"Wins: \", wins]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), boards === null || boards === void 0 ? void 0 : boards.map(board => /*#__PURE__*/_jsxDEV(BoardPreview, {\n      board: board\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 35\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }, this);\n};\n_s(Profile, \"i/RnYLvysh2jIUWyvoW+xE/7EwE=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["useEffect","useState","useParams","useNavigate","axios","BoardPreview","jsxDEV","_jsxDEV","Profile","_s","playerName","navigate","boards","setBoards","games","setGames","wins","setWins","getBoards","get","then","result","data","length","map","board","winner","white","name","black","filter","win","catch","error","console","log","className","children","href","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/noahheath/Documents/Workspace/chess_2/src/components/Profile.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { Board } from \"../model/Board\";\nimport { BoardPreview } from \"./BoardPreview\";\n\n\nexport const Profile: React.FC = () => {\n\n    const { playerName } = useParams()\n    const navigate = useNavigate()\n    const [boards, setBoards] = useState<Board[]>()\n    const [games, setGames] = useState<number>(0)\n    const [wins, setWins] = useState<number>(0)\n\n    useEffect(() => {\n        if (!playerName) {\n            navigate('/')\n        }\n        if (!boards) {\n            getBoards()\n        }\n    }, [boards, games, wins])\n\n    function getBoards() {\n        axios.get<Board[]>(`/player/${playerName}/boards`)\n        .then((result) => {\n            setBoards(result.data)\n            setGames(result.data.length)\n            setWins(result.data.map(board => board.winner === (board.white.name === playerName ? 1 : board.black.name === playerName ? 2 : -1)).filter(win => win === true).length)\n        }).catch((error) => {\n            console.log(error)\n        })\n    }\n\n    return (\n        <div className=\"flex flex-col w-screen bg-sky-300 items-center justify-center\">\n            <a href=\"/chess_2/\" className=\"flex absolute top-0 left-0 w-20 h-20 items-center\"><img src='/chess_2/bk.png' alt=\"/chess_2/bp.png\" /></a>\n            <span className=\"text-xl my-5\">{playerName}'s games</span>\n            <span>Games: {games}</span>\n            <span className=\"mb-3\">Wins: {wins}</span>\n            {boards?.map(board => <BoardPreview board={board} />)}\n        </div>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}