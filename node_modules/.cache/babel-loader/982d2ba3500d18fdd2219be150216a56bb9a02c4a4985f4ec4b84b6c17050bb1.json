{"ast":null,"code":"var _jsxFileName = \"/Users/noahheath/Documents/Workspace/chess_2/src/components/Game.tsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { TreeView } from \"./TreeView\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst rows = ['8', '7', '6', '5', '4', '3', '2', '1'];\nconst cols = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h'];\nconst keyMap = {\n  'r': 'br',\n  'n': 'bn',\n  'b': 'bb',\n  'k': 'bk',\n  'q': 'bq',\n  'p': 'bp',\n  'R': 'wr',\n  'N': 'wn',\n  'B': 'wb',\n  'K': 'wk',\n  'Q': 'wq',\n  'P': 'wp',\n  'x': 'x'\n};\nexport const Game = ({\n  board,\n  player,\n  move,\n  viewingMove,\n  setViewingMove,\n  getBoard,\n  handleRematch\n}) => {\n  _s();\n  var _board$white, _board$white3, _board$black, _board$black3;\n  const fenData = board.fen;\n  const [selected, setSelected] = useState(undefined);\n  const [currentSpot, setCurrentSpot] = useState('');\n  const [selectedKey, setSelectedKey] = useState('x');\n  const [moves, setMoves] = useState([]);\n  const myMove = fenData.whiteToMove && player === 1 || !fenData.whiteToMove && player === 2;\n  const [resigning, setResigning] = useState(false);\n  const [lastSpots, setLastSpots] = useState(['', '']);\n  const [expandHistory, setExpandHistory] = useState(false);\n  const boardKey = boardKeyConverter(fenData.boardKey);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const currentMove = Object.keys(board.history).length - 1;\n    if (currentMove > 0) {\n      var _board$history$viewin;\n      const lastMoveCode = ((_board$history$viewin = board.history[viewingMove]) === null || _board$history$viewin === void 0 ? void 0 : _board$history$viewin.moveCode) || '';\n      setLastSpots([lastMoveCode.substring(0, 2), lastMoveCode.substring(2, 4)]);\n    }\n  }, [board, viewingMove, expandHistory]);\n  function boardKeyConverter(oldKey) {\n    const keyIndex = {\n      'R': 0,\n      'N': 0,\n      'B': 0,\n      'K': 0,\n      'Q': 0,\n      'P': 0,\n      'r': 0,\n      'n': 0,\n      'b': 0,\n      'k': 0,\n      'q': 0,\n      'p': 0\n    };\n    return oldKey === null || oldKey === void 0 ? void 0 : oldKey.map(row => row.split('').map(key => {\n      keyIndex[key]++;\n      return keyMap[key] + (key === 'x' ? '' : keyIndex[key]);\n    }));\n  }\n  function resign(e) {\n    if (resigning) {\n      setResigning(false);\n      move(\"resign\");\n    } else {\n      setResigning(true);\n    }\n  }\n  function rematch(e) {\n    e.preventDefault();\n    handleRematch();\n  }\n  function viewMove(move) {\n    setViewingMove(move);\n    getBoard(move);\n  }\n  function getHistory() {\n    var historyItems = [];\n    for (var i = 0; i < Object.keys(board.history).length; i += 2) {\n      var _board$history$i, _board$history;\n      historyItems.push(historyItem(i, (_board$history$i = board.history[i]) === null || _board$history$i === void 0 ? void 0 : _board$history$i.moveString, ((_board$history = board.history[i + 1]) === null || _board$history === void 0 ? void 0 : _board$history.moveString) || ''));\n    }\n    return historyItems;\n  }\n  function historyItem(move, moveString1, moveString2) {\n    const viewingMove1 = viewingMove === move;\n    const viewingMove2 = viewingMove === move + 1;\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"flex flex-nowrap p-1 whitespace-nowrap select-none\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: `${viewingMove1 ? 'text-white' : ''} ml-1`,\n        children: [Math.ceil(move / 2) + 1, \".\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: `${viewingMove1 ? 'text-white' : ''} hover:text-white mx-1`,\n        onClick: () => viewMove(move),\n        children: moveString1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: `${viewingMove2 ? 'text-white' : ''} hover:text-white mr-1`,\n        onClick: () => viewMove(move + 1),\n        children: moveString2\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }, this)]\n    }, move, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col w-full h-full items-center justify-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-row mt-10\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"hover:text-white select-none\",\n        onClick: () => setExpandHistory(!expandHistory),\n        children: '>'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `flex ${expandHistory ? 'flex-wrap' : 'flex-row overflow-x-auto'} items-left w-[350px] sm:w-[600px] no-scrollbar`,\n        children: getHistory().map(historyItem => {\n          return historyItem;\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `flex ${player === 0 || player === 1 ? 'flex-col' : 'flex-col-reverse'} w-[350px] h-[350px] min-w-[350px] min-h[350px] sm:w-[600px] sm:h-[600px] sm:min-w[600px] sm:min-h-[600px] bg-white text-xs`,\n      children: boardKey.map((row, i) => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `flex ${player === 2 ? 'flex-row-reverse' : 'flex-row'} w-full h-[12.5%]`,\n          children: row.map((key, j) => {\n            let spot = i.toString() + j.toString();\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `flex relative w-[12.5%] h-full\n                            ${i % 2 === 0 ? j % 2 === 0 ? 'bg-sky-500 text-white' : 'text-sky-500' : j % 2 === 0 ? 'text-sky-500' : 'bg-sky-500 text-white'}`,\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                id: key,\n                className: `flex absolute top-0 left-0 w-full h-full\n                                ${selected === key ? 'bg-green-300' : moves.includes(spot) ? 'bg-green-300 opacity-50' : spot === lastSpots[0] ? 'bg-indigo-300 opacity-60' : spot === lastSpots[1] ? 'bg-indigo-300' : ''}\n                                ${board.check && key.includes(fenData.whiteToMove ? 'wk' : 'bk') ? 'bg-red-400' : ''}`,\n                onMouseDown: e => {\n                  e.preventDefault();\n                  if (key.startsWith(fenData.whiteToMove ? 'w' : 'b') && myMove && !board.shallow) {\n                    setSelected(key);\n                    setSelectedKey(board.fen.boardKey[7 - i].charAt(j));\n                    setCurrentSpot(spot);\n                    setMoves(Object.keys(board.moves).filter(moveCode => moveCode.startsWith(spot) && board.moves[moveCode].valid).map(moveCode => moveCode.substring(2, 4)));\n                  } else if (moves.includes(spot) && !board.shallow) {\n                    move(currentSpot + spot, selectedKey);\n                    setSelected(undefined);\n                    setCurrentSpot('');\n                    setMoves([]);\n                  }\n                },\n                children: [key !== 'x' ? /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"w-full h-full\",\n                  src: `/chess_2/${key.substring(0, 2)}.png`,\n                  alt: \"/chess_2/bp.png\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 114,\n                  columnNumber: 52\n                }, this) : null, i === 7 ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `absolute ${player === 0 || player === 1 ? 'bottom-1 right-1' : 'top-0 left-1'}`,\n                  children: cols[j]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 48\n                }, this) : null, j === 0 ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `absolute ${player === 0 || player === 1 ? 'top-0 left-1' : 'bottom-1 right-1'}`,\n                  children: rows[i]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 48\n                }, this) : null]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 33\n              }, this)\n            }, j, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 36\n            }, this);\n          })\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 28\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-row\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"mx-1 select-none hover:text-white\",\n        onClick: ((_board$white = board.white) === null || _board$white === void 0 ? void 0 : _board$white.name) === 'anonymous' ? () => {} : () => {\n          var _board$white2;\n          return navigate(`/player/${(_board$white2 = board.white) === null || _board$white2 === void 0 ? void 0 : _board$white2.name}`);\n        },\n        children: (_board$white3 = board.white) === null || _board$white3 === void 0 ? void 0 : _board$white3.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"vs.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"mx-1 select-none hover:text-white\",\n        onClick: ((_board$black = board.black) === null || _board$black === void 0 ? void 0 : _board$black.name) === 'anonymous' ? () => {} : () => {\n          var _board$black2;\n          return navigate(`/player/${(_board$black2 = board.black) === null || _board$black2 === void 0 ? void 0 : _board$black2.name}`);\n        },\n        children: (_board$black3 = board.black) === null || _board$black3 === void 0 ? void 0 : _board$black3.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"select-none\",\n      children: board.stalemate ? 'draw' : board.checkmate ? 'checkmate' : board.winner === 0 ? fenData.whiteToMove ? 'white to move' : 'black to move' : board.winner === 1 ? 'black resigned' : 'white resigned'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"select-none\",\n      children: board.winner === 1 ? 'white wins' : board.winner === 2 ? 'black wins' : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }, this), player !== 0 ? board.winner === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `flex ${resigning ? 'bg-red-300' : 'bg-white'} px-3 select-none mt-1`,\n      onClick: resign,\n      children: \"resign\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `flex bg-white px-3 select-none`,\n      onClick: rematch,\n      children: \"rematch\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 17\n    }, this) : null, /*#__PURE__*/_jsxDEV(TreeView, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 9\n  }, this);\n};\n_s(Game, \"5+3MZAH+oqf6yloLMyX8T5DaEyA=\", false, function () {\n  return [useNavigate];\n});\n_c = Game;\nvar _c;\n$RefreshReg$(_c, \"Game\");","map":{"version":3,"names":["useState","useEffect","useNavigate","TreeView","jsxDEV","_jsxDEV","rows","cols","keyMap","Game","board","player","move","viewingMove","setViewingMove","getBoard","handleRematch","_s","_board$white","_board$white3","_board$black","_board$black3","fenData","fen","selected","setSelected","undefined","currentSpot","setCurrentSpot","selectedKey","setSelectedKey","moves","setMoves","myMove","whiteToMove","resigning","setResigning","lastSpots","setLastSpots","expandHistory","setExpandHistory","boardKey","boardKeyConverter","navigate","currentMove","Object","keys","history","length","_board$history$viewin","lastMoveCode","moveCode","substring","oldKey","keyIndex","map","row","split","key","resign","e","rematch","preventDefault","viewMove","getHistory","historyItems","i","_board$history$i","_board$history","push","historyItem","moveString","moveString1","moveString2","viewingMove1","viewingMove2","className","children","Math","ceil","fileName","_jsxFileName","lineNumber","columnNumber","onClick","j","spot","toString","id","includes","check","onMouseDown","startsWith","shallow","charAt","filter","valid","src","alt","white","name","_board$white2","black","_board$black2","stalemate","checkmate","winner","_c","$RefreshReg$"],"sources":["/Users/noahheath/Documents/Workspace/chess_2/src/components/Game.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Board, FEN } from \"../model/Board\";\nimport { TreeView } from \"./TreeView\";\n\nconst rows = ['8', '7', '6', '5', '4', '3', '2', '1']\nconst cols = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h']\nconst keyMap: {[key: string]: string} = {'r': 'br', 'n' : 'bn', 'b': 'bb', 'k': 'bk', 'q': 'bq', 'p': 'bp',\n    'R': 'wr', 'N': 'wn', 'B': 'wb', 'K': 'wk', 'Q': 'wq', 'P': 'wp', 'x': 'x'}\n\nexport const Game: React.FC<{ board: Board, player: number, move: Function, viewingMove: number, setViewingMove: Function, getBoard: Function, handleRematch: Function }> = ({ board, player, move, viewingMove, setViewingMove, getBoard, handleRematch }) => {\n\n    const fenData: FEN = board.fen;\n    const [selected, setSelected] = useState<string | undefined>(undefined)\n    const [currentSpot, setCurrentSpot] = useState<string>('')\n    const [selectedKey, setSelectedKey] = useState<string>('x')\n    const [moves, setMoves] = useState<string[]>([])\n    const myMove = (fenData.whiteToMove && player === 1) || (!fenData.whiteToMove && player === 2)\n    const [resigning, setResigning] = useState<boolean>(false)\n    const [lastSpots, setLastSpots] = useState<string[]>(['', ''])\n    const [expandHistory, setExpandHistory] = useState<boolean>(false)\n    const boardKey: string[][] = boardKeyConverter(fenData.boardKey)\n    const navigate = useNavigate()\n\n    useEffect(() => {\n        const currentMove = Object.keys(board.history).length - 1;\n        if (currentMove > 0) {\n            const lastMoveCode = board.history[viewingMove]?.moveCode || ''\n            setLastSpots([lastMoveCode.substring(0, 2), lastMoveCode.substring(2, 4)])\n        }\n    }, [board, viewingMove, expandHistory])\n\n    function boardKeyConverter(oldKey: string[]): string[][] {\n        const keyIndex: {[key: string] : number} = {'R': 0, 'N': 0, 'B': 0, 'K': 0, 'Q': 0, 'P': 0,\n            'r': 0, 'n': 0, 'b': 0, 'k': 0, 'q': 0, 'p': 0}\n        return oldKey?.map(row => row.split('').map(key => {\n            keyIndex[key]++\n            return keyMap[key] + (key === 'x' ? '' : keyIndex[key])\n        }));\n    }\n\n    function resign(e: React.MouseEvent<HTMLSpanElement, MouseEvent>) {\n        if (resigning) {\n            setResigning(false)\n            move(\"resign\")\n        } else {\n            setResigning(true)\n        }\n    }\n\n    function rematch(e: React.MouseEvent<HTMLSpanElement, MouseEvent>) {\n        e.preventDefault()\n        handleRematch()\n    }\n\n    function viewMove(move: number) {\n        setViewingMove(move)\n        getBoard(move)\n    }\n\n    function getHistory(): JSX.Element[] {\n        var historyItems: JSX.Element[] = []\n        for (var i = 0; i < Object.keys(board.history).length; i += 2) {\n            historyItems.push(historyItem(i, board.history[i]?.moveString, board.history[i + 1]?.moveString || ''))\n        }\n        return historyItems\n    }\n\n    function historyItem(move: number, moveString1: string, moveString2: string) {\n        const viewingMove1 = viewingMove === move\n        const viewingMove2 = viewingMove === move + 1\n        return (<span className=\"flex flex-nowrap p-1 whitespace-nowrap select-none\" key={move}>\n            <span className={`${viewingMove1 ? 'text-white' : ''} ml-1`}>{Math.ceil(move / 2) + 1}.</span>\n            <span className={`${viewingMove1 ? 'text-white' : ''} hover:text-white mx-1`} onClick={() => viewMove(move)}>{moveString1}</span>\n            <span className={`${viewingMove2 ? 'text-white' : ''} hover:text-white mr-1`} onClick={() => viewMove(move + 1)}>{moveString2}</span></span>)\n    }\n\n    return (\n        <div className=\"flex flex-col w-full h-full items-center justify-center\">\n            <div className=\"flex flex-row mt-10\">\n                <div className=\"hover:text-white select-none\" onClick={() => setExpandHistory(!expandHistory)}>{'>'}</div>\n                <div className={`flex ${expandHistory ? 'flex-wrap' : 'flex-row overflow-x-auto'} items-left w-[350px] sm:w-[600px] no-scrollbar`}>\n                    {getHistory().map((historyItem) => {\n                        return historyItem\n                    })}\n                </div>\n            </div>\n            <div className={`flex ${player === 0 || player === 1 ? 'flex-col' : 'flex-col-reverse'} w-[350px] h-[350px] min-w-[350px] min-h[350px] sm:w-[600px] sm:h-[600px] sm:min-w[600px] sm:min-h-[600px] bg-white text-xs`}>\n                {boardKey.map((row, i) => {\n                    return <div className={`flex ${player === 2 ? 'flex-row-reverse' : 'flex-row'} w-full h-[12.5%]`} key={i}>\n                        {row.map((key, j) => {\n                            let spot = i.toString() + j.toString()\n                            return <div className={`flex relative w-[12.5%] h-full\n                            ${i % 2 === 0 ? (j % 2 === 0 ? 'bg-sky-500 text-white' : 'text-sky-500') :\n                                    (j % 2 === 0 ? 'text-sky-500' : 'bg-sky-500 text-white')}`} key={j}>\n                                <span id={key} className={`flex absolute top-0 left-0 w-full h-full\n                                ${selected === key ? 'bg-green-300' :\n                                        (moves.includes(spot) ? 'bg-green-300 opacity-50' :\n                                            (spot === lastSpots[0] ? 'bg-indigo-300 opacity-60' : (spot === lastSpots[1] ? 'bg-indigo-300' : '')))}\n                                ${board.check && key.includes(fenData.whiteToMove ? 'wk' : 'bk') ? 'bg-red-400' : ''}`} onMouseDown={(e) => {\n                                        e.preventDefault()\n                                        if (key.startsWith(fenData.whiteToMove ? 'w' : 'b') && myMove && !board.shallow) {\n                                            setSelected(key)\n                                            setSelectedKey(board.fen.boardKey[7 - i].charAt(j))\n                                            setCurrentSpot(spot)\n                                            setMoves(Object.keys(board.moves).filter(moveCode => moveCode.startsWith(spot) && board.moves[moveCode].valid).map(moveCode => moveCode.substring(2, 4)))\n                                        } else if (moves.includes(spot) && !board.shallow) {\n                                            move(currentSpot + spot, selectedKey)\n                                            setSelected(undefined)\n                                            setCurrentSpot('')\n                                            setMoves([])\n                                        }\n                                    }}>\n                                    {key !== 'x' ? <img className=\"w-full h-full\" src={`/chess_2/${key.substring(0, 2)}.png`} alt=\"/chess_2/bp.png\" /> : null}\n                                    {i === 7 ? <span className={`absolute ${player === 0 || player === 1 ? 'bottom-1 right-1' : 'top-0 left-1'}`}>{cols[j]}</span> : null}\n                                    {j === 0 ? <span className={`absolute ${player === 0 || player === 1 ? 'top-0 left-1' : 'bottom-1 right-1'}`}>{rows[i]}</span> : null}\n                                </span>\n                            </div>\n                        })}\n                    </div>\n                })}\n            </div>\n            <div className=\"flex flex-row\">\n                <span className=\"mx-1 select-none hover:text-white\" onClick={board.white?.name === 'anonymous' ? () => {} : () => navigate(`/player/${board.white?.name}`)}>\n                    {board.white?.name}\n                </span>\n                <span>vs.</span>\n                <span className=\"mx-1 select-none hover:text-white\" onClick={board.black?.name === 'anonymous' ? () => {} : () => navigate(`/player/${board.black?.name}`)}>\n                    {board.black?.name}\n                </span>\n            </div>\n            <span className=\"select-none\">{board.stalemate ? 'draw' : board.checkmate ? 'checkmate' : board.winner === 0 ? (fenData.whiteToMove ? 'white to move' : 'black to move') : board.winner === 1 ? 'black resigned' : 'white resigned'}</span>\n            <span className=\"select-none\">{board.winner === 1 ? 'white wins' : board.winner === 2 ? 'black wins' : null}</span>\n            {player !== 0 ? (board.winner === 0 ?\n                <div className={`flex ${resigning ? 'bg-red-300' : 'bg-white'} px-3 select-none mt-1`} onClick={resign}>resign</div> :\n                <div className={`flex bg-white px-3 select-none`} onClick={rematch}>rematch</div>) : null\n            }\n            <TreeView />\n        </div>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}